fpath+=/Users/evanrichards/.zsh/completion
# Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.
# Initialization code that may require console input (password prompts, [y/n]
# confirmations, etc.) must go above this block; everything else may go below.
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

#! /bin/zsh
autoload -U compinit
compinit -i
export EDITOR='nvim'
export TERM='screen-256color'
# Compilation flags
export ARCHFLAGS="-arch arm64"
# node stuff
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# let asdf choose our versions
if [ -d /usr/local/opt/asdf/libexec ]; then
  . /usr/local/opt/asdf/libexec/asdf.sh
fi
if [ -d /opt/homebrew/opt/asdf/libexec ]; then
  . /opt/homebrew/opt/asdf/libexec/asdf.sh
fi
# Opt arrow keys should move words
bindkey "^[[1;5C" forward-word
bindkey "^[[1;5D" backward-word

if [ ! -d $(brew --prefix zsh-syntax-highlighting) ]; then
        brew install zsh-syntax-highlighting
fi
source "$(brew --prefix zsh-syntax-highlighting)/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"

# check if we hae a .zsh directory
if [ ! -d "$HOME/.zsh" ]; then
        mkdir $HOME/.zsh
fi
if [ ! -d "$HOME/catppuccin" ]; then
  mkdir -p $HOME/catppuccin
fi
if [ ! -d "$HOME/catppuccin/zsh-syntax-highlighting" ]; then
  cd $HOME/catppuccin
  git clone https://github.com/catppuccin/zsh-syntax-highlighting.git
  cp -v zsh-syntax-highlighting/themes/catppuccin_mocha-zsh-syntax-highlighting.zsh ~/.zsh
fi
source ~/.zsh/catppuccin_mocha-zsh-syntax-highlighting.zsh

# now load zsh-syntax-highlighting plugin
ZSH_HIGHLIGHT_STYLES[cursor]='bold'

# my aliases
alias vim="nvim"
alias tree="exa --tree"
alias ls="exa"
alias ll="exa -alh"
alias cat="bat"
alias chezmoicd="cd ${HOME}/.local/share/chezmoi"
alias dotfiles="cd ${HOME}/code/dotfiles"
source "${HOME}/gitrc.sh"

source "$HOME/.config/zsh-prompt.zsh"
export PATH="$(yarn global bin):$PATH"
export PATH="/Users/evanrichards/.local/bin:$PATH"
export LIBRARY_PATH="$LIBRARY_PATH:/usr/local/lib"

export LDFLAGS="-L/usr/local/opt/openssl@3/lib"
export CPPFLAGS="-I/usr/local/opt/openssl@3/include"


if [ -d ~/.secrets_rc ]; then
  touch ~/.secrets_rc
fi
source ~/.secrets_rc

alias startDocker="open /Applications/Docker.app"

alias python="python3"

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export FZF_DEFAULT_OPTS=" \
--color=bg+:#313244,bg:#1e1e2e,spinner:#f5e0dc,hl:#f38ba8 \
--color=fg:#cdd6f4,header:#f38ba8,info:#cba6f7,pointer:#f5e0dc \
--color=marker:#f5e0dc,fg+:#cdd6f4,prompt:#cba6f7,hl+:#f38ba8"
source ~/powerlevel10k/powerlevel10k.zsh-theme

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
